<%= tag.span(
  class: class_names(
    "lui:inline-grid lui:shrink-0 lui:align-middle lui:[--avatar-radius:20%] lui:[--ring-opacity:20%] *:lui:col-start-1 *:lui:row-start-1 lui:outline lui:-outline-offset-1 lui:outline-black/(--ring-opacity)",
    SIZE_CLASSES.fetch(@size, SIZE_CLASSES[:md]),
    @initials ? "lui:text-white lui:bg-zinc-900" : "lui:text-zinc-500 lui:bg-zinc-200",
    @square ? "lui:rounded-(--avatar-radius) lui:*:rounded-(--avatar-radius)" : "lui:rounded-full lui:*:rounded-full",
    @options[:class]
  ),
  data: { slot: "avatar" }
) do %>
  <% if @initials %>
    <svg class="lui:size-full lui:fill-current lui:p-[5%] lui:text-[48px] lui:font-medium lui:uppercase lui:select-none" viewBox="0 0 100 100" aria-hidden="true">
      <text x="50%" y="50%" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" dy=".125em">
      <%= @initials %>
      </text>
    </svg>
  <% else %>
    <%= image_tag(@url, class: "lui:size-full", alt: @alt) %>
  <% end %>
<% end %>
